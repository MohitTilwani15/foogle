(function(t){function e(e){for(var a,s,c=e[0],i=e[1],u=e[2],l=0,f=[];l<c.length;l++)s=c[l],r[s]&&f.push(r[s][0]),r[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-253742d8":"400f47ca","chunk-7e525d82":"08d110db","chunk-823a9016":"e114a5b8"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise(function(e,a){n=r[t]=[e,a]});e.push(n[2]=a);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=s(t),o=function(e){i.onerror=i.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+a+": "+o+")");s.type=a,s.request=o,n[1](s)}r[t]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:i})},12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},2685:function(t,e,n){"use strict";e["a"]={path:"/",component:function(){return n.e("chunk-253742d8").then(n.bind(null,"bb51"))},name:"Home"}},"320d":function(t,e,n){"use strict";e["a"]={path:"/favorites",component:function(){return n.e("chunk-7e525d82").then(n.bind(null,"48d5"))},name:"Favorites"}},3475:function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return s});var a="SEARCH_NEARBY_RESTAURANTS",r="GET_USER_FAVORITE_VENUE",o="GET_ACCESS_TOKEN",s="SET_VENUE_AS_FAVORITE"},4359:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"d",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s});var a="SET_RESTAURANTS",r="SET_USER",o="SET_AUTHENTICATION",s="SET_SORTED_RESTAURANTS"},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a,r=n("2b0e"),o=n("2f62"),s=n("b054"),c=n.n(s),i=n("795b"),u=n.n(i),l=n("5176"),d=n.n(l),f=n("bd86"),p=n("bc3a"),h=n.n(p),v=n("f499"),b=n.n(v),m={clientID:"AUBDYWZ0XJE3IWHHJGPZHKX2XVENLEPBWTRMPW40TJ0XG5DW",clientSecret:"G2SF1Q4TLXHMVI1BLVY514LIQARD1KV3AODWIWJ4X2JD1O4K"};a=m;var _=a,g="https://cors-anywhere.herokuapp.com/https://api.foursquare.com/v2/",w={baseURL:g,headers:{Accept:"application/json"}},k=h.a.create(w);function S(t){try{var e=JSON.parse(b()(t));return window.sessionStorage.getItem("access_token")?e.params.oauth_token=window.sessionStorage.getItem("access_token"):(e.params.client_id=_.clientID,e.params.client_secret=_.clientSecret),e.params.categoryId="4d4b7105d754a06374d81259",e.params.v="20180915",e}catch(n){return t}}function E(t){var e={};return t.data&&t.data.response&&(e.data=t.data.response),e.headers=t.headers,e.status=t.status,e.statusText=t.statusText,e}k.interceptors.request.use(S,u.a.reject),k.interceptors.response.use(E,u.a.reject);var T,A,O,y=k,j=n("3475"),I=n("4359"),R={namespaced:!0,state:{user:{},isAuthenticated:!!window.sessionStorage.getItem("access_token")},getters:{getUser:function(t){return t.user},isAuthenticated:function(t){return t.isAuthenticated}},mutations:(T={},Object(f["a"])(T,I["d"],function(t,e){t.user=e}),Object(f["a"])(T,I["a"],function(t,e){t.isAuthenticated=e}),T),actions:(A={},Object(f["a"])(A,j["b"],function(t,e){var n=t.commit,a=d()({},e);a.oauth_token=window.sessionStorage.getItem("access_token"),a.categoryId="4d4b7105d754a06374d81259",a.v="20180915",y.get("users/self/venuelikes",{params:a}).then(function(t){n(I["d"],t.data.venues)})}),Object(f["a"])(A,j["d"],function(t,e){var n=d()({},e);return n.oauth_token=window.sessionStorage.getItem("access_token"),n.v="20180915",new u.a(function(t){y.post("venues/".concat(e.VENUE_ID,"/like?oauth_token=").concat(window.sessionStorage.getItem("access_token"),"&v=20180915"),n).then(function(){t()})})}),Object(f["a"])(A,j["a"],function(t,e){var n=t.commit;return new u.a(function(t){var a=d()({},e);a.client_id=_.clientID,a.client_secret=_.clientSecret,a.grant_type="authorization_code",a.redirect_uri="http://localhost:8080/auth/callback",h.a.get("https://cors-anywhere.herokuapp.com/https://foursquare.com/oauth2/access_token",{params:a}).then(function(e){n(I["a"],!0),window.sessionStorage.setItem("access_token",e.data.access_token),t()})})}),A)},C=(n("55dd"),n("28a5"),"venues/search"),L=function(t,e){t=t.split(".");var n=t.length;return e.sort(function(e,a){var r=0;while(r<n)e=e[t[r]],a=a[t[r]],r+=1;return e<a?-1:e>a?1:0}),e},x={namespaced:!0,state:{restaurants:[]},getters:{getRestaurants:function(t){return function(e,n){return t.restaurants.slice(n*e-n,n*e)}},getTotalRestaurantsCount:function(t){return t.restaurants.length}},mutations:(O={},Object(f["a"])(O,I["b"],function(t,e){t.restaurants=e}),Object(f["a"])(O,I["c"],function(t){t.restaurants=L("location.distance",t.restaurants)}),O),actions:Object(f["a"])({},j["c"],function(t,e){var n=t.commit;y.get(C,{params:e}).then(function(t){n(I["b"],t.data.venues)})})},N=!1,U={userModule:R,searchRestaurantModule:x};r["a"].use(o["a"]);var D=new o["a"].Store({strict:N,plugins:[c()()],modules:U}),P=n("88fd"),M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("nav-bar"),n("router-view")],1)},V=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"nav-extended"},[n("div",{staticClass:"nav-wrapper"},[n("a",{staticClass:"brand-logo",attrs:{href:"#"}},[t._v("Foogle")]),n("ul",{staticClass:"right hide-on-med-and-down",attrs:{id:"nav-mobile"}},[n("li",[t.isAuthenticated?t._e():n("a",{on:{click:t.login}},[t._v("Login")])]),n("li",[t.isAuthenticated?n("a",{on:{click:t.logout}},[t._v("Logout")]):t._e()])])]),n("div",{staticClass:"nav-content"},[n("ul",{staticClass:"tabs tabs-transparent"},[n("li",{staticClass:"tab"},[n("router-link",{attrs:{to:"/"}},[n("a",{attrs:{href:"#"}},[t._v("Home")])])],1),n("li",{staticClass:"tab"},[n("router-link",{attrs:{to:"/favorites"}},[n("a",{staticClass:"active",attrs:{href:"#"}},[t._v("Favorites")])])],1)])])]),n("ul",{staticClass:"sidenav",attrs:{id:"mobile-demo"}},[n("li",[t.isAuthenticated?t._e():n("a",{attrs:{href:"#"},on:{click:t.login}},[t._v("Login")])]),n("li",[t.isAuthenticated?n("a",{attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")]):t._e()])])])},J=[],W=n("cebc"),F={name:"navbar",computed:Object(W["a"])({},Object(o["b"])({isAuthenticated:"userModule/isAuthenticated"}),{buttonLabel:function(){return this.isAuthenticated?"Logout":"Login"}}),methods:{login:function(){window.location.href="https://foursquare.com/oauth2/authenticate?client_id=".concat(_.clientID,"&response_type=code&redirect_uri=http://localhost:8080/auth/callback")},logout:function(){window.sessionStorage.removeItem("access_token"),window.location.reload()}}},X=F,q=n("2877"),B=Object(q["a"])(X,H,J,!1,null,null,null),G=B.exports,K={name:"app",components:{"nav-bar":G}},Y=K,$=(n("034f"),Object(q["a"])(Y,M,V,!1,null,null,null)),Q=$.exports;r["a"].config.productionTip=!1,new r["a"]({router:P["a"],store:D,render:function(t){return t(Q)}}).$mount("#app")},"64a9":function(t,e,n){},"88fd":function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return i});var a=n("2b0e"),r=n("8c4f"),o=n("2685"),s=n("320d"),c=n("d27c");a["a"].use(r["a"]);var i=new r["a"]({mode:"history",base:t,routes:[o["a"],s["a"],c["a"]],scrollBehavior:function(t,e,n){return t.hash?{selector:t.hash}:n||{x:0,y:0}}})}).call(this,"/")},d27c:function(t,e,n){"use strict";n("cadf"),n("551c"),n("f751"),n("097d");e["a"]={path:"/auth/callback",component:function(){return n.e("chunk-823a9016").then(n.bind(null,"63cf"))},name:"Callback"}}});
//# sourceMappingURL=app.18827635.js.map